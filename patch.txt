diff --git a/app/controllers/application_controller.rb b/app/controllers/application_controller.rb
index 277319f..8f4cd35 100644
--- a/app/controllers/application_controller.rb
+++ b/app/controllers/application_controller.rb
@@ -34,7 +34,8 @@ class ApplicationController < ActionController::Base
 
   # Additional gem/plugin functionality
   has_mobile_fu
-
+  # Controllers for which there is no mobile layout
+  WITHOUT_MOBILE_TEMPLATE = %w(operators operator_sessions users configurations stats)
 
   def toggle_mobile
     session[:mobile_view] = !session[:mobile_view]
@@ -80,6 +81,10 @@ class ApplicationController < ActionController::Base
     end
   end
 
+  def has_mobile?
+    !WITHOUT_MOBILE_TEMPLATE.include?(controller_name)
+  end
+
   def current_account_session
     return @current_account_session if defined?(@current_account_session)
     @current_account_session = AccountSession.find
diff --git a/app/controllers/users_controller.rb b/app/controllers/users_controller.rb
index 44d2154..d540ef7 100644
--- a/app/controllers/users_controller.rb
+++ b/app/controllers/users_controller.rb
@@ -72,7 +72,9 @@ class UsersController < ApplicationController
     @countries = Country.all
     @mobile_prefixes = MobilePrefix.all
     @radius_groups = RadiusGroup.all
-		
+		if params[:user][:is_company] == '0'
+			@user.errors.delete(:pg_partita_iva)
+		end		
     if @user.save and check_tax_vat_iban_number(@user)
     	@user.pg_partita_iva = pg_partita_iva_tmp
     	@user.save(:validate=>false)    	
@@ -87,11 +89,25 @@ class UsersController < ApplicationController
       end
     else
     	update_validation_errors(@user)
-    	check_tax_vat_iban_number(@user)    	
-      respond_to do |format|
-        format.html { render :action => :new }
-        format.xml { render :xml => @user.errors, :status => :unprocessable_entity }
-      end
+    	check_tax_vat_iban_number(@user)
+    	if @user.errors.empty?
+				@user.attributes = params[:user]
+				@user.save(false)
+	      current_account_session.destroy unless current_account_session.nil?
+	
+	      # Associate user with the operator the current operator
+	      current_operator.has_role!('user_manager', @user)
+				create_user_role(@user.id)				
+	      respond_to do |format|
+	        format.html { render :ticket }
+	        format.xml { render :xml => @user, :status => :created }
+	      end
+    	else
+	      respond_to do |format|
+	        format.html { render :action => :edit }
+	        format.xml { render :xml => @user.errors, :status => :unprocessable_entity }
+	      end    			
+    	end    	
     end
   end
 	
@@ -125,7 +141,10 @@ class UsersController < ApplicationController
     @mobile_prefixes = MobilePrefix.all
     @radius_groups = RadiusGroup.all
     pg_partita_iva_tmp = params[:user][:pg_partita_iva]
-		params[:user][:pg_partita_iva] = params[:user][:pg_partita_iva][2..20] 
+		params[:user][:pg_partita_iva] = params[:user][:pg_partita_iva][2..20]
+		if params[:user][:is_company] == '0'
+			@user.errors.delete(:pg_partita_iva)
+		end	 
     if @user.update_attributes(params[:user]) and check_tax_vat_iban_number(@user)
     	if current_operator.is_admin
 	    	operator_user = @user.operator_users.first
@@ -146,14 +165,33 @@ class UsersController < ApplicationController
     else
     	update_validation_errors(@user)
     	check_tax_vat_iban_number(@user)
-      respond_to do |format|
-        format.html { render :action => :edit }
-        format.xml { render :xml => @user.errors, :status => :unprocessable_entity }
-      end
+    	if @user.errors.empty?
+				@user.attributes = params[:user]
+				@user.save(false)
+	    	if current_operator.is_admin
+		    	operator_user = @user.operator_users.first
+		    	if operator_user
+		    		operator_user.operator_id = params[:operator_id]
+		    		operator_user.save
+		    	end
+		    end	
+	      current_account_session.destroy unless current_account_session.nil?
+	      flash[:notice] = I18n.t(:Account_updated)				
+	      respond_to do |format|
+	        format.html { redirect_to user_url }
+	        format.xml { render :nothing => true, :status => :ok }
+	      end    		
+    	else
+	      respond_to do |format|
+	        format.html { render :action => :edit }
+	        format.xml { render :xml => @user.errors, :status => :unprocessable_entity }
+	      end    			
+    	end
     end
   end
 
   def update_validation_errors(user)
+  	
     if user.errors.has_key?(:pf_cf) && user.errors[:pf_cf].include?("Invalid format")
       user.errors.delete(:pf_cf)
       user.errors.add(:pf_cf, t("codice_fiscale_invalid_format"))
@@ -162,14 +200,18 @@ class UsersController < ApplicationController
       user.errors.delete(:pf_cf)
       user.errors.add(:pf_cf, t("codice_fiscale_empty"))
     end
-    if user.errors.has_key?(:pg_partita_iva) && user.errors[:pg_partita_iva].include?("Invalid format")
-      user.errors.delete(:pg_partita_iva)
-      user.errors.add(:pg_partita_iva, t("partita_iva_invalid_format"))
-    end
-    if user.errors.has_key?(:pg_partita_iva) && user.errors[:pg_partita_iva].include?("can't be blank")
-      user.errors.delete(:pg_partita_iva)
-      user.errors.add(:pg_partita_iva, t("partita_iva_empty"))
-    end 
+    if params[:user][:is_company] == '1'
+	    if user.errors.has_key?(:pg_partita_iva) && user.errors[:pg_partita_iva].include?("Invalid format")
+	      user.errors.delete(:pg_partita_iva)
+	      user.errors.add(:pg_partita_iva, t("partita_iva_invalid_format"))
+	    end
+	    if user.errors.has_key?(:pg_partita_iva) && user.errors[:pg_partita_iva].include?("can't be blank")
+	      user.errors.delete(:pg_partita_iva)
+	      user.errors.add(:pg_partita_iva, t("partita_iva_empty"))
+	    end
+	  else
+	  	user.errors.delete(:pg_partita_iva)
+	 	end  
   end
 
 
diff --git a/app/views/common/form_elements/_identity_document.html.erb b/app/views/common/form_elements/_identity_document.html.erb
index f5750b9..619f1ff 100644
--- a/app/views/common/form_elements/_identity_document.html.erb
+++ b/app/views/common/form_elements/_identity_document.html.erb
@@ -20,31 +20,27 @@
 <% if owner.is_a? Account %>
     <% if owner.verify_with_document? %>
         <strong><%=t :Document_photo %></strong><br/>
-
         <p class="center"><%= document_of owner %></p>
     <% end %>
 <% elsif owner.is_a? User %>
     <% if owner.can_signup_via?(AccountCommon::VERIFY_BY_DOCUMENT) %>
         <% if owner.new_record? %>
             <%# We have a new User %>
-            <div class="verification-block" style="display:none;">
+            <div class="verification-block" style="display:block;">
               <% if owner.has_image? %>
                   <strong><%=t :Document_photo_preview %></strong><br/>
-
                   <p class="center"><%= document_of owner, :inline => true %></p>
               <% end %>
               <div class="grid_4"> 
-                <%= form.input :image_file %>
+                <%= form.input :image_file, :label => t("document_photo") %>
               </div>  
               <%= form.input :image_file_temp, :as => :hidden %>
             </div>
         <% else %>
             <% if owner.verify_with_document? %>
-                
-
                 <%# We have an already existing User %>
                 <div class="grid_4"> 
-                  <%= form.input :image_file %>
+                  <%= form.input :image_file, :label => t("document_photo") %>
                 </div>  
                 <div class="grid_8">
                   <%= document_of owner, :inline => true %>
diff --git a/app/views/common/form_elements/_mobile_phone_user.html.erb b/app/views/common/form_elements/_mobile_phone_user.html.erb
index 5a57b2a..55f71c9 100644
--- a/app/views/common/form_elements/_mobile_phone_user.html.erb
+++ b/app/views/common/form_elements/_mobile_phone_user.html.erb
@@ -17,31 +17,24 @@
 # along with this program.  If not, see <http://www.gnu.org/licenses/>.
 #%>
 
-<div class="verification-block">
-  
-  
-
-  <div class="block">
-    <div class="grid_5">
-      <span><%= form.label :mobile_phone %></span>
+  <div class="verification-block">
+    <div class="block">
+    <div class="grid_4">
       <%= form.input :mobile_prefix, :collection => prefixes, :prompt => t(:select_prefix) %>
     </div>
-
-    <div class="grid_5">
-      <span style="float:left"><%=t :mobile_phone, :scope => [:simple_form, :hints] %></span>
-      <%= form.input :mobile_suffix %>
+    <div class="grid_4">
+      <%= form.input :mobile_prefix_confirmation, :collection => prefixes, :prompt => t(:select_prefix) %>
     </div>
-  </div>
 
+  </div>
   
   <div class="block">
-    <div class="grid_5">
-      <%= form.label :mobile_phone_confirmation %>
-      <%= form.input :mobile_prefix_confirmation, :collection => prefixes, :prompt => t(:select_prefix) %>
+    <div class="grid_4">
+      <span style="float:left"><%=t :mobile_phone, :scope => [:simple_form, :hints] %></span>
+      <%= form.input :mobile_suffix %>
     </div>
-
-    <div class="grid_5">
+    <div class="grid_4" style="margin-top:32px;float: left;">
       <%= form.input :mobile_suffix_confirmation %>
     </div>
   </div>
-</div>
\ No newline at end of file
+</div>
diff --git a/app/views/common/form_elements/_personal_data_backend.html.erb b/app/views/common/form_elements/_personal_data_backend.html.erb
index ef0e3cd..b36b17b 100644
--- a/app/views/common/form_elements/_personal_data_backend.html.erb
+++ b/app/views/common/form_elements/_personal_data_backend.html.erb
@@ -22,6 +22,7 @@
 </div>
 
 
+
 <% block_none = owner.is_company ? 'display:block' : 'display:none' %>
 <fieldset style="<%= block_none %>;" id="company_fields">
   <legend id="pg_user label"><%= t("dati_azienda") %></legend>
@@ -31,17 +32,18 @@
   <div class="grid_4">
     <%= form.input :pg_partita_iva, :label => t("pg_partita_iva") %>
   </div>
-  <div class="grid_3">
+  <div class="grid_4">
     <strong><%= form.label :pg_indirizzo, t("pg_indirizzo") %></strong>  
     <%= form.text_field :pg_indirizzo %>
   </div>   
-  <div class="grid_3">
+  <div class="grid_2">
     <%= form.input :pg_comune, :label => t("pg_comune") %>
   </div>       
   <div class="grid_2">
     <%= form.input :pg_cap, :label => t("pg_cap") %>
   </div>
 </fieldset>
+<div class="clearb">&nbsp;</div>
 
 
 <fieldset>
@@ -144,24 +146,27 @@
     <iframe id="frame" src="" width="100%" height="300"></iframe>
   </div>   
 </fieldset>
-
+<div class="clearb">&nbsp;</div>
 <fieldset>
   <legend id="pg_user label"><%= t("dati_di_accesso") %></legend>
-
-  <div id="eula_priv">
-    <%= link_to t(:Click_for_eula), document_path('eula.pdf'), :target => '_blank' %>
-    <%= form.input :eula_acceptance, :error => false %>
-  
-    <%= link_to t(:Click_for_privacy), document_path('privacy.pdf'), :target => '_blank' %>
-    <%= form.input :privacy_acceptance, :error => false %>
-  </div>
-
+<div class="grid_4">
   <% if current_operator.has_role? 'users_manager' %>
       <%= form.label :radius_groups %>
       <%= render 'radius_group_select', :user => owner, :radius_groups => radius_groups %>
   <% end %>
-</fieldset>
+</div>  
+<div class="grid_4" style="margin-top:-15px;float: left;">
+  <div id="eula_priv">
+    <%= link_to t(:Click_for_eula), document_path('eula.pdf'), :target => '_blank', :id => "acceptance" %>
+    <%= form.input :eula_acceptance, :error => true %>
+  
+    <%= link_to t(:Click_for_privacy), document_path('privacy.pdf'), :target => '_blank', :id => "privacy" %>
+    <%= form.input :privacy_acceptance, :error => true %>
+  </div>
+</div>
 
+</fieldset>
+<div class="clearb">&nbsp;</div>
 
 <fieldset>
   <legend id="pg_user label"><%= t("dati_di_installazione") %></legend>
@@ -177,16 +182,16 @@
     <%= form.hidden_field :inst_cpe_username, :value => current_operator.login %>
     <%= form.hidden_field :inst_cpe_password, :value => current_operator.crypted_password %>
   
-  <div class="grid_6">
+  <div class="grid_4">
     <strong><%= form.label :inst_indirizzo, t("inst_indirizzo") %></strong>  
     <%= form.text_field :inst_indirizzo %>
   </div>  
 
-  <div class="grid_2">
+  <div class="grid_4">
     <strong><%= form.label :inst_cap, t("inst_cap") %></strong>  
     <%= form.text_field :inst_cap %>
   </div>        
-  <div class="grid_8">
+  <div class="grid_9">
     <%= form.input :gen_note, :label => t("note") %>
   </div> 
 
@@ -204,4 +209,15 @@ $('#user_is_company').click(function() {
   });
 });
 
-</script>
\ No newline at end of file
+$('#user_eula_acceptance').click(function() {
+  var url = $("#acceptance").attr('href');
+  window.open(url, '_blank');
+});
+
+$('#user_privacy_acceptance').click(function() {
+  var url = $("#privacy").attr('href');
+  window.open(url, '_blank');
+});
+
+</script>
+
diff --git a/app/views/layouts/application.html.erb b/app/views/layouts/application.html.erb
index 91e7ce4..1326c32 100644
--- a/app/views/layouts/application.html.erb
+++ b/app/views/layouts/application.html.erb
@@ -10,15 +10,15 @@
 #
 # This program is distributed in the hope that it will be useful,
 # but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 # GNU General Public License for more details.
 #
 # You should have received a copy of the GNU General Public License
-# along with this program.  If not, see <http://www.gnu.org/licenses/>.
+# along with this program. If not, see <http://www.gnu.org/licenses/>.
 #%>
 
 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
-        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
 
 <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head>
@@ -131,7 +131,7 @@
                   <li><%= menu_link_to t(:Browse_operators), operators_url %></li>
                   <% if current_operator.is_admin %>
                     <li><%= menu_link_to t(:Add_new_operator), new_operator_url %></li>
-                  <% end %>  
+                  <% end %>
                 </ul>
               </li>
           <% end %>
@@ -151,7 +151,7 @@
                <li><%= menu_link_to t(:add_products), new_product_url %></li>
               <% end %>
             </ul>
-          </li>         
+          </li>
           <% if current_operator.has_role? 'configurations_manager' %>
           <li>
             <%= menu_link_to t(:cpe_templates), '#' %>
@@ -203,4 +203,4 @@
 </div>
 
 </body>
-</html>
+</html>
\ No newline at end of file
diff --git a/app/views/users/_form.html.erb b/app/views/users/_form.html.erb
index 433c0ee..eab980a 100644
--- a/app/views/users/_form.html.erb
+++ b/app/views/users/_form.html.erb
@@ -16,51 +16,47 @@
 # You should have received a copy of the GNU General Public License
 # along with this program.  If not, see <http://www.gnu.org/licenses/>.
 #%>
-<div class="grid_5">
-  <%= f.input :username, :disabled => !user.new_record? %>
-</div>
-<div class="grid_6"></div>
-<div class="grid_5">  
-<% if user.new_record? %>
-    <% if user_verification_methods.length == 1 %>
-        <%= f.input :verification_method, :as => :hidden %>
-    <% else %>
-        <%= f.input :verification_method, :collection => user_verification_select, :prompt => false %>
-    <% end %>
-<% else %>
-    <%= f.input :verification_method,
-                :collection => account_verification_select + user_verification_select,
-                :disabled => true
-    %>
-<% end %>
-</div>
-
-<div class="grid_8"></div>
-
-
-
-<%= render 'common/form_elements/mobile_phone_user', :form => f, :owner => user, :prefixes => mobile_prefixes %>
+<fieldset>
+  <div class="grid_4">
+    <%= f.input :username, :disabled => !user.new_record? %>
+  </div>
+  <div class="grid_6"></div>
+  
+  <%= render 'common/form_elements/identity_document', :form => f, :owner => user %>
+  <div class="clearb"></div>
+  <% if current_operator.is_admin? %>
+    <div class="grid_4">
+      <strong><%= t("operator") %></strong><br />
+      <%= select_tag "operator_id", options_for_select([t("select_operator")] + Operator.where("code IS NOT NULL AND is_admin = 0").collect {|r| [r.code, r.id]}, (user.operator_users.first.operator_id unless user.operator_users.first.nil?)) %>
+    </div>
+  <% end %>
+  <div class="clearb"></div>
+  <%= render 'common/form_elements/mobile_phone_user', :form => f, :owner => user, :prefixes => mobile_prefixes %>
+  <div class="clearb"></div>
 
-<%= render 'common/form_elements/identity_document', :form => f, :owner => user %>
-<div class="grid_8">&nbsp;</div>
-<div class="grid_8">
 <% if user.new_record? %>
+  <div class="grid_4">
     <%= f.input :verified, :as => :hidden, :value => 1 %>
+   </div> 
+  <div class="grid_4">    
     <%= f.input :active, :as => :hidden, :value => 1 %>
+  </div>    
 <% else %>
     <div id="user_status">
-      <%= f.input :verified %>
-      <%= f.input :active %>
+      <div class="grid_4">
+        <%= f.input :verified %>
+      </div>  
+      <div class="grid_4">  
+        <%= f.input :active %>
+      </div>  
     </div>
 <% end %>
-</div>
-<% if current_operator.is_admin? %>
-  <div class="grid_5">
-    <strong><%= t("Operator") %></strong><br />
-    <%= select_tag "operator_id", options_for_select([t("select_operator")] + Operator.where("code IS NOT NULL AND is_admin = 0").collect {|r| [r.code, r.id]}, (user.operator_users.first.operator_id unless user.operator_users.first.nil?)) %>
-  </div>
-  <div class="clearb">&nbsp;</div>
-<% end %>       
+  
+  
+</fieldset>
+<div class="grid_8"></div>
+
+       
 <%= render 'common/form_elements/personal_data_backend', :form => f, :owner => user, :countries => countries, :radius_groups => radius_groups, :current_operator => current_operator %>
 <div class="grid_3">
   <%= f.button :submit %>
diff --git a/app/views/users/edit.html.erb b/app/views/users/edit.html.erb
index 295af6c..e3f9648 100644
--- a/app/views/users/edit.html.erb
+++ b/app/views/users/edit.html.erb
@@ -22,7 +22,9 @@
     <%= simple_form_for @user, :html => {:multipart => true} do |f| %>
         <fieldset>
           <legend><%=t :Edit_user %></legend>
-          <p><%= f.error_messages %></p>
+          <% unless f.error_messages.empty? %>
+            <p style="color:red;"><%= t("please_fill_required_fields") %></p>
+          <% end %>  
 
           <%= render 'form', :f => f, :user => @user, :radius_groups => @radius_groups, :countries => @countries, :mobile_prefixes => @mobile_prefixes %>
         </fieldset>
diff --git a/app/views/users/new.html.erb b/app/views/users/new.html.erb
index a1f7c93..c63c2cc 100644
--- a/app/views/users/new.html.erb
+++ b/app/views/users/new.html.erb
@@ -22,7 +22,9 @@
     <%= simple_form_for @user, :html => {:multipart => true} do |f| %>
         <fieldset>
           <legend><%=t :Create_user %></legend>
-          <p><%= f.error_messages %></p>
+          <% unless f.error_messages.empty? %>
+            <p style="color:red;"><%= t("please_fill_required_fields") %></p>
+          <% end %>  
 
           <%= render 'form', :f => f, :user => @user, :radius_groups => @radius_groups, :countries => @countries, :mobile_prefixes => @mobile_prefixes %>
         </fieldset>
diff --git a/config/locales/owums.en.yml b/config/locales/owums.en.yml
index 5475357..d3d375e 100644
--- a/config/locales/owums.en.yml
+++ b/config/locales/owums.en.yml
@@ -404,7 +404,9 @@ If you still have problems resetting the password, try repeating the procedure"
   code: "Code"  
   select_operator: "Select Operator"
   is_admin: "Is Admin ?"
+  verify: "Verify"
   dati_di_installazione: "Installation data"
   dati_azienda: "Company data"
   dati_di_accesso: "Login details"
-  verify: "Verify"
+  operator: "Operator"
+  please_fill_required_fields: "Please fix the following errors:"
diff --git a/config/locales/owums.it.yml b/config/locales/owums.it.yml
index c8f0d64..995495f 100644
--- a/config/locales/owums.it.yml
+++ b/config/locales/owums.it.yml
@@ -403,6 +403,7 @@ Se continui ad avere problemi, ripeti la procedura di recupero password"
   code: "Codice"
   select_operator: "Seleziona Operatore"
   is_admin: "è amministratore?"
+  verify: "Verify"
   dati_di_installazione: "Dati di installazione"
   dati_azienda: "Dati azienda"
   dati_di_accesso: "Dati di accesso"
@@ -410,4 +411,5 @@ Se continui ad avere problemi, ripeti la procedura di recupero password"
   New_product: "Nuovo prodotto"
   add_cpe_templates: "Aggiungi nuovo template CPE"
   New_cpe_template: "Nuovo template CPE"
-  verify: "Verify"
+  operator: "Operator"
+  please_fill_required_fields: "Please fix the following errors:"
diff --git a/public/stylesheets/custom.css b/public/stylesheets/custom.css
index 09aac64..1b95f3b 100644
--- a/public/stylesheets/custom.css
+++ b/public/stylesheets/custom.css
@@ -220,7 +220,7 @@ li > .off {
 }
 
 .hint {
-    margin: 0 23px 3px 0;
+    margin: 0 59px 3px 0;
     float:right;
 }
 
diff --git a/public/stylesheets/fluid960/960.css b/public/stylesheets/fluid960/960.css
index 6db1bd3..860ec27 100755
--- a/public/stylesheets/fluid960/960.css
+++ b/public/stylesheets/fluid960/960.css
@@ -94,7 +94,7 @@
 
 .container_12 .grid_4
 {
-	width: 300px;
+	width: 335px;
 }
 
 .container_12 .grid_5
